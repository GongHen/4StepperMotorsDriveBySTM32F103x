相关寄存器：
1. 控制寄存器1，TIMx_CR1：分频（CK_INT与ETR,TIx之间），方向，对齐方式，使能等设置；
2. DMA/中断使能寄存器，TIMx_DIER：UIE(第0位)，更新中断允许位;
3. 预分频寄存器，TIMx_PSC：对时钟进行分频，再提供给计数器作为时钟
4. 寄存器，TIMx_SMCR：选择定时器时钟源；
5. 寄存器，TIMx_CNT：存储当前定时器的计数值；
6. 自动重装载寄存器，TIMx_APR：2个，一个可以直接操作，一个程序员看不到，通过TIMx_CR1对APRE设置；
7. 状态寄存器，TIMx_SR；标记当前与定时器相关的各种事件/中断是否发生；


使用定时器基本流程：
1. 根据定时器挂载的总线APB1 or APB2来确定，时钟使能；
2. 初始化定时器参数，设置自动重装值，分频系数，计数方式等
3. 设置DMA/中断使能寄存器，TIMx_DIER，允许中断更新（如果定时器中断的类型是“更新中断”的话）
4. 中断优先级设置
5. 打开/使能相应Timer
6. 编写中断服务函数